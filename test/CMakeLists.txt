# CMake does not remember that this file is autogenerated
set_source_files_properties ("${GEN}/js-builtin-modules.cc" PROPERTIES GENERATED TRUE)

# Test sources
file (GLOB_RECURSE TEST_SOURCES
      "${CMAKE_CURRENT_SOURCE_DIR}/*.c"
      "${CMAKE_CURRENT_SOURCE_DIR}/*.cc")

# Build a hedit_test executable
add_executable (hedit_test ${TEST_SOURCES})
target_include_directories (hedit_test PUBLIC "${CMAKE_CURRENT_SOURCE_DIR}")
target_compile_options (hedit_test PUBLIC "-D_DEFAULT_SOURCE")
target_link_libraries (hedit_test hedit_lib)

add_custom_target (
    check
    COMMAND hedit_test
)
